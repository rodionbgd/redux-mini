!function(){"use strict";function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var t=function(){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.reduce=e,this.state=e(r,{}),this.subscribers=new Set}var r,n;return r=t,(n=[{key:"getState",value:function(){return this.state}},{key:"dispatch",value:function(e){var t=this;this.state=this.reduce(this.state,e),this.subscribers.forEach((function(e){return e(t.state)}))}},{key:"replaceReducer",value:function(e){this.reduce=e}},{key:"subscribe",value:function(e){var t=this;return this.subscribers.add(e),function(){t.subscribers.delete(e)}}}])&&e(r.prototype,n),t}();function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={count:function(e,t){var r=0;switch(t.type){case"INCREMENT":return r=Number(e.counter)+1,n(n({},e),{},{counter:r});case"DECREMENT":return r=Number(e.counter)-1,n(n({},e),{},{counter:r});case"INPUT":return r=Number(e.counter)+t.payload,n(n({},e),{},{counter:r});default:return e}},paint:function(e,t){return"COLOR_CHANGE"===t.type?n(n({},e),{},{color:t.payload}):e}},o={count:{counter:0},paint:{color:0}};window.addEventListener("load",(function(){var e=new t(function(e){return function(t,r){var n={};return Object.keys(e).forEach((function(c){t&&(n[c]=e[c](t[c],r))})),n}}(u),o),r=document.querySelector(".inc"),n=document.querySelector(".dec"),c=document.querySelector(".add"),i=document.querySelector('input[type="number"]'),a=document.querySelector('input[type="color"]'),s=document.getElementById("color"),l=document.querySelector("h1");r.addEventListener("click",(function(){return e.dispatch({type:"INCREMENT"})})),n.addEventListener("click",(function(){return e.dispatch({type:"DECREMENT"})})),c.addEventListener("click",(function(){return e.dispatch({type:"INPUT",payload:Number(i.value)})})),a.addEventListener("input",(function(){return e.dispatch({type:"COLOR_CHANGE",payload:a.value})})),e.subscribe((function(){l.innerHTML="Counter: ".concat(e.getState().count.counter)})),e.subscribe((function(){s.style.color="".concat(e.getState().paint.color)}))}))}();